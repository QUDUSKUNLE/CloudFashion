// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("MONGODB_URI")
}

enum Role {
  USER
  ADMIN
  DESIGNER
  CUSTOMER
  PUBLIC
}

enum State {
  Abia
  Adamawa
  AkwaIbom
  Anambra
  Bauchi
  Benue
  Borno
  Bayelsa
  CrossRiver
  Delta
  Ebonyi
  Edo
  Ekiti
  Enugu
  FCT
  Gombe
  Imo
  Jigawa
  Kebbi
  Kaduna
  Kano
  Kogi
  Katsina
  Kwara
  Lagos
  Nassarawa
  Niger
  Ogun
  Ondo
  Osun
  Oyo
  Plateau
  Rivers
  Sokoto
  Yobe
  Zamfara
}

type Address {
  StreetNo      Int
  StreetName    String
  City          String 
  State         State
}

model Designers {
  DesignerID            String       @id @default(auto()) @map("_id") @db.ObjectId
  DesignerName          String       @unique
  DesignerPhoneNumbers  String[]     @default([])
  DesignerAddress       Address?
  User                  Users        @relation(fields: [UserID], references: [UserID])
  UserID                String       @unique @db.ObjectId
  Roles                 Role[]       @default([DESIGNER])
  CreatedAt             DateTime     @default(now())
  UpdatedAt             DateTime     @updatedAt
}

model Customers {
  CustomerID              String        @id @default(auto()) @map("_id") @db.ObjectId
  CustomerName            String?
  CustomerPhoneNumbers    String[]      @default([])
  CustomerAddress         Address?
  CreatedAt               DateTime      @default(now())
  UpdatedAt               DateTime      @updatedAt
}

model Users {
  UserID        String                @id @default(auto()) @map("_id") @db.ObjectId
  Email         String                @unique
  Password      String                @map("Password")
  PhoneNumbers  String[]              @default([])
  FirstName     String?               
  LastName      String?               
  Address       Address?
  Designer      Designers?  
  Roles         Role[]                @default([USER])
  CreatedAt     DateTime              @default(now())
  UpdatedAt     DateTime              @updatedAt
}


model Inventories {
  InventoryID             String        @id @default(auto()) @map("_id") @db.ObjectId
}


model Ledgers {
  LedgerID                String    @id @default(auto()) @map("_id") @db.ObjectId
  CreatedAt               DateTime  @db.Timestamp
  UpdatedAt               DateTime  @db.Timestamp
}
