// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("MONGODB_URI")
}

type Address {
  StreetNo      Int
  StreetName    String
  City          String 
  State         String             
}

model Designers {
  DesignerID            String       @id @default(auto()) @map("_id") @db.ObjectId
  DesignerName          String       @unique
  DesignerPhoneNumbers  String[]     @default([])
  DesignerAddress       Address?
  CreatedAt             DateTime     @default(now())
  UpdatedAt             DateTime     @updatedAt

  User                  Users        @relation(fields: [UserID], references: [UserID])
  UserID                String       @unique @db.ObjectId

  Customers              Customers[]
}

model Customers {
  CustomerID              String        @id @default(auto()) @map("_id") @db.ObjectId
  CustomerEmail           String?
  CustomerName            String?
  CustomerPhoneNumbers    String[]      @default([])
  CustomerAddress         Address?
  CreatedAt               DateTime      @default(now())
  UpdatedAt               DateTime      @updatedAt

  Designers               Designers     @relation(fields: [DesignerID], references: [DesignerID])
  DesignerID              String        @unique @db.ObjectId
}

model Users {
  UserID        String                @id @default(auto()) @map("_id") @db.ObjectId
  Email         String                @unique
  Password      String                @map("Password")
  PhoneNumbers  String[]              @default([])
  FirstName     String?               
  LastName      String?               
  Address       Address?
  Roles         String[]              @default(["USER"])
  CreatedAt     DateTime              @default(now())
  UpdatedAt     DateTime              @updatedAt

  Designer      Designers?  
}


model Inventories {
  InventoryID             String        @id @default(auto()) @map("_id") @db.ObjectId
}


model Ledgers {
  LedgerID                String    @id @default(auto()) @map("_id") @db.ObjectId
  CreatedAt               DateTime  @db.Timestamp
  UpdatedAt               DateTime  @db.Timestamp
}
